{"ast":null,"code":"'use strict';\n\nvar BigInteger = require('jsbn').BigInteger;\n\nvar common = require('./common.js');\n\nvar sprintf = require('sprintf-js').sprintf;\n\nvar padStart = require('lodash.padstart');\n\nvar repeat = require('lodash.repeat');\n\nvar constants = require('./v4/constants.js');\n/**\n * Represents an IPv4 address\n * @class Address4\n * @param {string} address - An IPv4 address string\n */\n\n\nfunction Address4(address) {\n  this.valid = false;\n  this.address = address;\n  this.groups = constants.GROUPS;\n  this.v4 = true;\n  this.subnet = '/32';\n  this.subnetMask = 32;\n  var subnet = constants.RE_SUBNET_STRING.exec(address);\n\n  if (subnet) {\n    this.parsedSubnet = subnet[0].replace('/', '');\n    this.subnetMask = parseInt(this.parsedSubnet, 10);\n    this.subnet = '/' + this.subnetMask;\n\n    if (this.subnetMask < 0 || this.subnetMask > constants.BITS) {\n      this.valid = false;\n      this.error = 'Invalid subnet mask.';\n      return;\n    }\n\n    address = address.replace(constants.RE_SUBNET_STRING, '');\n  }\n\n  this.addressMinusSuffix = address;\n  this.parsedAddress = this.parse(address);\n}\n/*\n * Parses a v4 address\n */\n\n\nAddress4.prototype.parse = function (address) {\n  var groups = address.split('.');\n\n  if (address.match(constants.RE_ADDRESS)) {\n    this.valid = true;\n  } else {\n    this.error = 'Invalid IPv4 address.';\n  }\n\n  return groups;\n};\n/**\n * Return true if the address is valid\n * @memberof Address4\n * @instance\n * @returns {Boolean}\n */\n\n\nAddress4.prototype.isValid = function () {\n  return this.valid;\n};\n/**\n * Returns the correct form of an address\n * @memberof Address4\n * @instance\n * @returns {String}\n */\n\n\nAddress4.prototype.correctForm = function () {\n  return this.parsedAddress.map(function (part) {\n    return parseInt(part, 10);\n  }).join('.');\n};\n/**\n * Returns true if the address is correct, false otherwise\n * @memberof Address4\n * @instance\n * @returns {Boolean}\n */\n\n\nAddress4.prototype.isCorrect = common.isCorrect(constants.BITS);\n/**\n * Converts a hex string to an IPv4 address object\n * @memberof Address4\n * @static\n * @param {string} hex - a hex string to convert\n * @returns {Address4}\n */\n\nAddress4.fromHex = function (hex) {\n  var padded = padStart(hex.replace(/:/g, ''), 8, '0');\n  var groups = [];\n  var i;\n\n  for (i = 0; i < 8; i += 2) {\n    var h = padded.slice(i, i + 2);\n    groups.push(parseInt(h, 16));\n  }\n\n  return new Address4(groups.join('.'));\n};\n/**\n * Converts an integer into a IPv4 address object\n * @memberof Address4\n * @static\n * @param {integer} integer - a number to convert\n * @returns {Address4}\n */\n\n\nAddress4.fromInteger = function (integer) {\n  return Address4.fromHex(integer.toString(16));\n};\n/**\n * Converts an IPv4 address object to a hex string\n * @memberof Address4\n * @instance\n * @returns {String}\n */\n\n\nAddress4.prototype.toHex = function () {\n  return this.parsedAddress.map(function (part) {\n    return sprintf('%02x', parseInt(part, 10));\n  }).join(':');\n};\n/**\n * Converts an IPv4 address object to an array of bytes\n * @memberof Address4\n * @instance\n * @returns {Array}\n */\n\n\nAddress4.prototype.toArray = function () {\n  return this.parsedAddress.map(function (part) {\n    return parseInt(part, 10);\n  });\n};\n/**\n * Converts an IPv4 address object to an IPv6 address group\n * @memberof Address4\n * @instance\n * @returns {String}\n */\n\n\nAddress4.prototype.toGroup6 = function () {\n  var output = [];\n  var i;\n\n  for (i = 0; i < constants.GROUPS; i += 2) {\n    var hex = sprintf('%02x%02x', parseInt(this.parsedAddress[i], 10), parseInt(this.parsedAddress[i + 1], 10));\n    output.push(sprintf('%x', parseInt(hex, 16)));\n  }\n\n  return output.join(':');\n};\n/**\n * Returns the address as a BigInteger\n * @memberof Address4\n * @instance\n * @returns {BigInteger}\n */\n\n\nAddress4.prototype.bigInteger = function () {\n  if (!this.valid) {\n    return null;\n  }\n\n  return new BigInteger(this.parsedAddress.map(function (n) {\n    return sprintf('%02x', parseInt(n, 10));\n  }).join(''), 16);\n};\n/**\n * Helper function getting start address.\n * @memberof Address4\n * @instance\n * @returns {BigInteger}\n */\n\n\nAddress4.prototype._startAddress = function () {\n  return new BigInteger(this.mask() + repeat('0', constants.BITS - this.subnetMask), 2);\n};\n/**\n * The first address in the range given by this address' subnet.\n * Often referred to as the Network Address.\n * @memberof Address4\n * @instance\n * @returns {Address4}\n */\n\n\nAddress4.prototype.startAddress = function () {\n  return Address4.fromBigInteger(this._startAddress());\n};\n/**\n * The first host address in the range given by this address's subnet ie\n * the first address after the Network Address\n * @memberof Address4\n * @instance\n * @returns {Address4}\n */\n\n\nAddress4.prototype.startAddressExclusive = function () {\n  var adjust = new BigInteger('1');\n  return Address4.fromBigInteger(this._startAddress().add(adjust));\n};\n/**\n * Helper function getting end address.\n * @memberof Address4\n * @instance\n * @returns {BigInteger}\n */\n\n\nAddress4.prototype._endAddress = function () {\n  return new BigInteger(this.mask() + repeat('1', constants.BITS - this.subnetMask), 2);\n};\n/**\n * The last address in the range given by this address' subnet\n * Often referred to as the Broadcast\n * @memberof Address4\n * @instance\n * @returns {Address4}\n */\n\n\nAddress4.prototype.endAddress = function () {\n  return Address4.fromBigInteger(this._endAddress());\n};\n/**\n * The last host address in the range given by this address's subnet ie\n * the last address prior to the Broadcast Address\n * @memberof Address4\n * @instance\n * @returns {Address4}\n */\n\n\nAddress4.prototype.endAddressExclusive = function () {\n  var adjust = new BigInteger('1');\n  return Address4.fromBigInteger(this._endAddress().subtract(adjust));\n};\n/**\n * Converts a BigInteger to a v4 address object\n * @memberof Address4\n * @static\n * @param {BigInteger} bigInteger - a BigInteger to convert\n * @returns {Address4}\n */\n\n\nAddress4.fromBigInteger = function (bigInteger) {\n  return Address4.fromInteger(parseInt(bigInteger.toString(), 10));\n};\n/**\n * Returns the first n bits of the address, defaulting to the\n * subnet mask\n * @memberof Address4\n * @instance\n * @returns {String}\n */\n\n\nAddress4.prototype.mask = function (optionalMask) {\n  if (optionalMask === undefined) {\n    optionalMask = this.subnetMask;\n  }\n\n  return this.getBitsBase2(0, optionalMask);\n};\n/**\n * Returns the bits in the given range as a base-2 string\n * @memberof Address4\n * @instance\n * @returns {string}\n */\n\n\nAddress4.prototype.getBitsBase2 = function (start, end) {\n  return this.binaryZeroPad().slice(start, end);\n};\n/**\n * Returns true if the given address is in the subnet of the current address\n * @memberof Address4\n * @instance\n * @returns {boolean}\n */\n\n\nAddress4.prototype.isInSubnet = common.isInSubnet;\n/**\n * Returns true if the given address is a multicast address\n * @memberof Address4\n * @instance\n * @returns {boolean}\n */\n\nAddress4.prototype.isMulticast = function () {\n  return this.isInSubnet(new Address4('224.0.0.0/4'));\n};\n/**\n * Returns a zero-padded base-2 string representation of the address\n * @memberof Address4\n * @instance\n * @returns {string}\n */\n\n\nAddress4.prototype.binaryZeroPad = function () {\n  return padStart(this.bigInteger().toString(2), constants.BITS, '0');\n};\n\nmodule.exports = Address4;","map":{"version":3,"sources":["/Users/yenerkaraca/Documents/GitHub/eth-app/node_modules/ip-address/lib/ipv4.js"],"names":["BigInteger","require","common","sprintf","padStart","repeat","constants","Address4","address","valid","groups","GROUPS","v4","subnet","subnetMask","RE_SUBNET_STRING","exec","parsedSubnet","replace","parseInt","BITS","error","addressMinusSuffix","parsedAddress","parse","prototype","split","match","RE_ADDRESS","isValid","correctForm","map","part","join","isCorrect","fromHex","hex","padded","i","h","slice","push","fromInteger","integer","toString","toHex","toArray","toGroup6","output","bigInteger","n","_startAddress","mask","startAddress","fromBigInteger","startAddressExclusive","adjust","add","_endAddress","endAddress","endAddressExclusive","subtract","optionalMask","undefined","getBitsBase2","start","end","binaryZeroPad","isInSubnet","isMulticast","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar BigInteger = require('jsbn').BigInteger;\nvar common = require('./common.js');\nvar sprintf = require('sprintf-js').sprintf;\nvar padStart = require('lodash.padstart');\nvar repeat = require('lodash.repeat');\n\nvar constants = require('./v4/constants.js');\n\n/**\n * Represents an IPv4 address\n * @class Address4\n * @param {string} address - An IPv4 address string\n */\nfunction Address4(address) {\n  this.valid = false;\n  this.address = address;\n  this.groups = constants.GROUPS;\n\n  this.v4 = true;\n\n  this.subnet = '/32';\n  this.subnetMask = 32;\n\n  var subnet = constants.RE_SUBNET_STRING.exec(address);\n\n  if (subnet) {\n    this.parsedSubnet = subnet[0].replace('/', '');\n    this.subnetMask = parseInt(this.parsedSubnet, 10);\n    this.subnet = '/' + this.subnetMask;\n\n    if (this.subnetMask < 0 || this.subnetMask > constants.BITS) {\n      this.valid = false;\n      this.error = 'Invalid subnet mask.';\n\n      return;\n    }\n\n    address = address.replace(constants.RE_SUBNET_STRING, '');\n  }\n\n  this.addressMinusSuffix = address;\n\n  this.parsedAddress = this.parse(address);\n}\n\n/*\n * Parses a v4 address\n */\nAddress4.prototype.parse = function (address) {\n  var groups = address.split('.');\n\n  if (address.match(constants.RE_ADDRESS)) {\n    this.valid = true;\n  } else {\n    this.error = 'Invalid IPv4 address.';\n  }\n\n  return groups;\n};\n\n/**\n * Return true if the address is valid\n * @memberof Address4\n * @instance\n * @returns {Boolean}\n */\nAddress4.prototype.isValid = function () {\n  return this.valid;\n};\n\n/**\n * Returns the correct form of an address\n * @memberof Address4\n * @instance\n * @returns {String}\n */\nAddress4.prototype.correctForm = function () {\n  return this.parsedAddress.map(function (part) {\n    return parseInt(part, 10);\n  }).join('.');\n};\n\n/**\n * Returns true if the address is correct, false otherwise\n * @memberof Address4\n * @instance\n * @returns {Boolean}\n */\nAddress4.prototype.isCorrect = common.isCorrect(constants.BITS);\n\n/**\n * Converts a hex string to an IPv4 address object\n * @memberof Address4\n * @static\n * @param {string} hex - a hex string to convert\n * @returns {Address4}\n */\nAddress4.fromHex = function (hex) {\n  var padded = padStart(hex.replace(/:/g, ''), 8, '0');\n  var groups = [];\n  var i;\n\n  for (i = 0; i < 8; i += 2) {\n    var h = padded.slice(i, i + 2);\n\n    groups.push(parseInt(h, 16));\n  }\n\n  return new Address4(groups.join('.'));\n};\n\n/**\n * Converts an integer into a IPv4 address object\n * @memberof Address4\n * @static\n * @param {integer} integer - a number to convert\n * @returns {Address4}\n */\nAddress4.fromInteger = function (integer) {\n  return Address4.fromHex(integer.toString(16));\n};\n\n/**\n * Converts an IPv4 address object to a hex string\n * @memberof Address4\n * @instance\n * @returns {String}\n */\nAddress4.prototype.toHex = function () {\n  return this.parsedAddress.map(function (part) {\n    return sprintf('%02x', parseInt(part, 10));\n  }).join(':');\n};\n\n/**\n * Converts an IPv4 address object to an array of bytes\n * @memberof Address4\n * @instance\n * @returns {Array}\n */\nAddress4.prototype.toArray = function () {\n  return this.parsedAddress.map(function (part) {\n    return parseInt(part, 10);\n  });\n};\n\n/**\n * Converts an IPv4 address object to an IPv6 address group\n * @memberof Address4\n * @instance\n * @returns {String}\n */\nAddress4.prototype.toGroup6 = function () {\n  var output = [];\n  var i;\n\n  for (i = 0; i < constants.GROUPS; i += 2) {\n    var hex = sprintf('%02x%02x',\n      parseInt(this.parsedAddress[i], 10),\n      parseInt(this.parsedAddress[i + 1], 10));\n\n    output.push(sprintf('%x', parseInt(hex, 16)));\n  }\n\n  return output.join(':');\n};\n\n/**\n * Returns the address as a BigInteger\n * @memberof Address4\n * @instance\n * @returns {BigInteger}\n */\nAddress4.prototype.bigInteger = function () {\n  if (!this.valid) {\n    return null;\n  }\n\n  return new BigInteger(this.parsedAddress.map(function (n) {\n    return sprintf('%02x', parseInt(n, 10));\n  }).join(''), 16);\n};\n\n/**\n * Helper function getting start address.\n * @memberof Address4\n * @instance\n * @returns {BigInteger}\n */\nAddress4.prototype._startAddress = function () {\n  return new BigInteger(\n    this.mask() + repeat('0', constants.BITS - this.subnetMask), 2\n  );\n};\n\n/**\n * The first address in the range given by this address' subnet.\n * Often referred to as the Network Address.\n * @memberof Address4\n * @instance\n * @returns {Address4}\n */\nAddress4.prototype.startAddress = function () {\n  return Address4.fromBigInteger(this._startAddress());\n};\n\n/**\n * The first host address in the range given by this address's subnet ie\n * the first address after the Network Address\n * @memberof Address4\n * @instance\n * @returns {Address4}\n */\nAddress4.prototype.startAddressExclusive = function () {\n  var adjust = new BigInteger('1');\n  return Address4.fromBigInteger(this._startAddress().add(adjust));\n};\n\n/**\n * Helper function getting end address.\n * @memberof Address4\n * @instance\n * @returns {BigInteger}\n */\nAddress4.prototype._endAddress = function () {\n  return new BigInteger(\n    this.mask() + repeat('1', constants.BITS - this.subnetMask), 2\n  );\n};\n\n/**\n * The last address in the range given by this address' subnet\n * Often referred to as the Broadcast\n * @memberof Address4\n * @instance\n * @returns {Address4}\n */\nAddress4.prototype.endAddress = function () {\n  return Address4.fromBigInteger(this._endAddress());\n};\n\n/**\n * The last host address in the range given by this address's subnet ie\n * the last address prior to the Broadcast Address\n * @memberof Address4\n * @instance\n * @returns {Address4}\n */\nAddress4.prototype.endAddressExclusive = function () {\n  var adjust = new BigInteger('1');\n  return Address4.fromBigInteger(this._endAddress().subtract(adjust));\n};\n\n/**\n * Converts a BigInteger to a v4 address object\n * @memberof Address4\n * @static\n * @param {BigInteger} bigInteger - a BigInteger to convert\n * @returns {Address4}\n */\nAddress4.fromBigInteger = function (bigInteger) {\n  return Address4.fromInteger(parseInt(bigInteger.toString(), 10));\n};\n\n/**\n * Returns the first n bits of the address, defaulting to the\n * subnet mask\n * @memberof Address4\n * @instance\n * @returns {String}\n */\nAddress4.prototype.mask = function (optionalMask) {\n  if (optionalMask === undefined) {\n    optionalMask = this.subnetMask;\n  }\n\n  return this.getBitsBase2(0, optionalMask);\n};\n\n/**\n * Returns the bits in the given range as a base-2 string\n * @memberof Address4\n * @instance\n * @returns {string}\n */\nAddress4.prototype.getBitsBase2 = function (start, end) {\n  return this.binaryZeroPad().slice(start, end);\n};\n\n/**\n * Returns true if the given address is in the subnet of the current address\n * @memberof Address4\n * @instance\n * @returns {boolean}\n */\nAddress4.prototype.isInSubnet = common.isInSubnet;\n\n/**\n * Returns true if the given address is a multicast address\n * @memberof Address4\n * @instance\n * @returns {boolean}\n */\nAddress4.prototype.isMulticast = function () {\n  return this.isInSubnet(new Address4('224.0.0.0/4'));\n};\n\n/**\n * Returns a zero-padded base-2 string representation of the address\n * @memberof Address4\n * @instance\n * @returns {string}\n */\nAddress4.prototype.binaryZeroPad = function () {\n  return padStart(this.bigInteger().toString(2), constants.BITS, '0');\n};\n\nmodule.exports = Address4;\n"]},"metadata":{},"sourceType":"script"}
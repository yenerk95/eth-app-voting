{"ast":null,"code":"var _jsxFileName = \"/Users/yenerkaraca/Documents/GitHub/eth-app-voting/packages/react-app/src/App.js\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { ethers } from \"ethers\";\nimport logo from \"./ethereumLogo.png\";\nimport { addresses, abis } from \"@project/contracts\";\nimport \"./App.css\";\nconst ZERO_ADDRESS = \"0x0000000000000000000000000000000000000000000000000000000000000000\";\nconst defaultProvider = new ethers.providers.Web3Provider(window.ethereum);\nvar storageContract;\n\nasync function getaccount() {\n  const accounts = await window.ethereum.request({\n    method: 'eth_requestAccounts'\n  });\n  Object.values(accounts);\n  const account = JSON.stringify(accounts[0]);\n  console.log(\"FUNC\");\n  console.log({\n    account\n  });\n  return account;\n}\n\nfunction App() {\n  const [accountHash, setAccountHash] = useState(\"\");\n  useEffect(() => {\n    window.ethereum.enable();\n  }, []);\n  useEffect(() => {\n    async function readFile() {\n      const file1 = await getaccount();\n      if (file1 !== ZERO_ADDRESS) setAccountHash(file1);\n    }\n\n    readFile();\n  }, []);\n\n  function SetContract() {\n    storageContract = new ethers.Contract(itemInput2, abis.storage, defaultProvider);\n    console.log(itemInput2);\n    console.log(abis.storage);\n    console.log(storageContract);\n\n    try {\n      if (itemInput2 == \"\") throw \"Empty! Enter Smart Contract Hash.\";\n      if (isNaN(itemInput2)) throw \"Not a number! Enter Smart Contract Hash.\";\n    } catch (err) {\n      console.log(err);\n      document.getElementById(\"text-box\").className = \"color-red\";\n      document.getElementById(\"text-box\").innerHTML = err;\n    }\n\n    return storageContract;\n  }\n\n  async function Buyer() {\n    try {\n      const storageWithSigner = storageContract.connect(defaultProvider.getSigner());\n      await storageWithSigner.buyerUpload(1, itemInput);\n    } catch (err) {\n      console.log(err.message);\n      document.getElementById(\"text-box\").className = \"color-red\";\n      document.getElementById(\"text-box\").innerHTML = err.message;\n    }\n  }\n\n  async function voteright() {\n    try {\n      const storageWithSigner = storageContract.connect(defaultProvider.getSigner());\n      await storageWithSigner.giveRightToVote(itemInput);\n    } catch (err) {\n      console.log(err.message);\n      document.getElementById(\"text-box\").className = \"color-red\";\n      document.getElementById(\"text-box\").innerHTML = err.message;\n    }\n  }\n\n  async function removevoteright() {\n    try {\n      const storageWithSigner = storageContract.connect(defaultProvider.getSigner());\n      await storageWithSigner.removeRightToVote(itemInput1);\n    } catch (err) {\n      console.log(err.message);\n      document.getElementById(\"text-box\").className = \"color-red\";\n      document.getElementById(\"text-box\").innerHTML = err.message;\n    }\n  }\n\n  async function endtime() {\n    try {\n      const storageWithSigner = storageContract.connect(defaultProvider.getSigner());\n      await storageWithSigner.ExtendTime(itemInput3);\n    } catch (err) {\n      console.log(err.message);\n      document.getElementById(\"text-box\").className = \"color-red\";\n      document.getElementById(\"text-box\").innerHTML = err.message;\n    }\n  }\n\n  async function vote() {\n    try {\n      const storageWithSigner = storageContract.connect(defaultProvider.getSigner());\n      await storageWithSigner.vote(itemInput4);\n    } catch (err) {\n      console.log(err.message);\n      document.getElementById(\"text-box\").className = \"color-red\";\n      document.getElementById(\"text-box\").innerHTML = err.message;\n    }\n  }\n\n  async function status() {\n    var status_array = [\"ON\", \"BUYER_UPLOADED\", \"SELLER_UPLOADED\", \"DOC_OK\", \"DOC_DEFECT\", \"DOC_REJECTED\"];\n    var time_array = [\"ON_TIME\", \"OUT_OF_TIME\"];\n\n    try {\n      const storageWithSigner = storageContract.connect(defaultProvider.getSigner());\n      var balance = await storageWithSigner.check_Contract_Balance();\n      var statust = await storageWithSigner.getStatus();\n      var timet = await storageWithSigner.getTimeStatus();\n      document.getElementById(\"text-box1\").innerHTML = \"Status: \" + status_array[statust] + \"  Time: \" + time_array[timet] + \"  Balance: \" + balance;\n      return;\n    } catch (err) {\n      console.log(err.message);\n      document.getElementById(\"text-box\").className = \"color-red\";\n      document.getElementById(\"text-box\").innerHTML = err.message;\n    }\n  }\n\n  const [itemInput, setItemInput] = useState(\"\");\n  console.log(itemInput);\n  const [itemInput1, setItemInput1] = useState(\"\");\n  console.log(itemInput1);\n  const [itemInput2, setItemInput2] = useState(\"\");\n  console.log(itemInput2);\n  const [itemInput3, setItemInput3] = useState(\"\");\n  console.log(itemInput3);\n  const [itemInput4, setItemInput4] = useState(\"\");\n  console.log(itemInput4);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"text-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"body\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 8\n    }\n  }, \"Smart Contract: \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Contract Hash\",\n    value: itemInput2,\n    onChange: e => setItemInput2(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: SetContract,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }\n  }, \"Set\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }\n  }, \"Current User Hash: \", /*#__PURE__*/React.createElement(\"mark\", {\n    className: \"mark-red\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 31\n    }\n  }, accountHash)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"button\", {\n    onClick: status,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  }, \"See Current Status\"), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"text-box1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"body\", {\n    className: \"fintech\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }, \"Fintech Gives Right to Vote: \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Hash\",\n    value: itemInput,\n    onChange: e => setItemInput(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 40\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: voteright,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }\n  }, \"Give\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 9\n    }\n  }, \"Fintech Removes Right to Vote: \", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Hash\",\n    value: itemInput1,\n    onChange: e => setItemInput1(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 42\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: removevoteright,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }\n  }, \"Remove\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 9\n    }\n  }, \"Fintechs Sets Time:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter Time\",\n    value: itemInput3,\n    onChange: e => setItemInput3(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: endtime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 9\n    }\n  }, \"Set\"))), /*#__PURE__*/React.createElement(\"body\", {\n    className: \"banks\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 10\n    }\n  }, \"Banks Vote:\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Proposal\",\n    value: itemInput4,\n    onChange: e => setItemInput4(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: vote,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }\n  }, \"Set\")))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/yenerkaraca/Documents/GitHub/eth-app-voting/packages/react-app/src/App.js"],"names":["React","useCallback","useEffect","useState","ethers","logo","addresses","abis","ZERO_ADDRESS","defaultProvider","providers","Web3Provider","window","ethereum","storageContract","getaccount","accounts","request","method","Object","values","account","JSON","stringify","console","log","App","accountHash","setAccountHash","enable","readFile","file1","SetContract","Contract","itemInput2","storage","isNaN","err","document","getElementById","className","innerHTML","Buyer","storageWithSigner","connect","getSigner","buyerUpload","itemInput","message","voteright","giveRightToVote","removevoteright","removeRightToVote","itemInput1","endtime","ExtendTime","itemInput3","vote","itemInput4","status","status_array","time_array","balance","check_Contract_Balance","statust","getStatus","timet","getTimeStatus","setItemInput","setItemInput1","setItemInput2","setItemInput3","setItemInput4","e","target","value"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\n\nimport { ethers } from \"ethers\";\n\nimport logo from \"./ethereumLogo.png\";\nimport { addresses, abis } from \"@project/contracts\";\n\nimport \"./App.css\";\n\nconst ZERO_ADDRESS =\n  \"0x0000000000000000000000000000000000000000000000000000000000000000\";\n\n\nconst defaultProvider = new ethers.providers.Web3Provider(window.ethereum);\nvar storageContract;\n\nasync function getaccount(){\n  const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n  Object.values(accounts);\n  const account =JSON.stringify(accounts[0]);\n  console.log(\"FUNC\");\n\n  console.log({ account });\n\nreturn account\n}\n\n\nfunction App() {\n  \n\n  const [accountHash, setAccountHash] = useState(\"\");\n  useEffect(() => {\n    window.ethereum.enable();\n  }, []);\n\n  useEffect(() => {\n    async function readFile() {\n      const file1 = await getaccount();\n\n      if (file1 !== ZERO_ADDRESS) setAccountHash(file1);\n    }\n     \n    readFile();\n  }, []);\n\n\n   function SetContract() {\n    storageContract = new ethers.Contract(itemInput2, abis.storage, defaultProvider);\n    console.log(itemInput2);\n    console.log(abis.storage);\n    console.log(storageContract);\n\n      \n    try {\n      if(itemInput2== \"\") throw \"Empty! Enter Smart Contract Hash.\";\n      if(isNaN(itemInput2)) throw \"Not a number! Enter Smart Contract Hash.\";\n      \n    }\n    catch(err) {\n      console.log(err);\n      document.getElementById(\"text-box\").className = \"color-red\";\n\n      document.getElementById(\"text-box\").innerHTML = err\n    }\n     \n    return storageContract;\n  \n  }\n\n\n  async function Buyer() {\n\n  \n    try {\n      const storageWithSigner = storageContract.connect(defaultProvider.getSigner());\n      await storageWithSigner.buyerUpload(1,itemInput);\n      \n    }\n    catch(err) {\n      console.log(err.message);\n      document.getElementById(\"text-box\").className = \"color-red\";\n      document.getElementById(\"text-box\").innerHTML = err.message\n    }\n    \n  \n  }\n \n\n\n  async function voteright() {\n\n  \n    try {\n      const storageWithSigner = storageContract.connect(defaultProvider.getSigner());\n      await storageWithSigner. giveRightToVote(itemInput);\n      \n    }\n    catch(err) {\n      console.log(err.message);\n      document.getElementById(\"text-box\").className = \"color-red\";\n      document.getElementById(\"text-box\").innerHTML = err.message\n    }\n    \n  \n  }\n\n  async function removevoteright() {\n\n  \n    try {\n      const storageWithSigner = storageContract.connect(defaultProvider.getSigner());\n      await storageWithSigner. removeRightToVote(itemInput1);\n      \n    }\n    catch(err) {\n      console.log(err.message);\n      document.getElementById(\"text-box\").className = \"color-red\";\n      document.getElementById(\"text-box\").innerHTML = err.message\n    }\n    \n  \n  }\n\n  async function endtime() {\n\n\n\n    try {\n      const storageWithSigner = storageContract.connect(defaultProvider.getSigner());\n      await storageWithSigner.ExtendTime(itemInput3);\n      \n    }\n    catch(err) {\n      console.log(err.message);\n      document.getElementById(\"text-box\").className = \"color-red\";\n      document.getElementById(\"text-box\").innerHTML = err.message\n    }\n    \n  \n  }\n\n  async function vote() {\n\n\n\n    try {\n      const storageWithSigner = storageContract.connect(defaultProvider.getSigner());\n      await storageWithSigner.vote(itemInput4);\n      \n    }\n    catch(err) {\n      console.log(err.message);\n      document.getElementById(\"text-box\").className = \"color-red\";\n      document.getElementById(\"text-box\").innerHTML = err.message\n    }\n    \n  \n  }\n  \n\n  async function status() {\n\n    var status_array=[\"ON\", \"BUYER_UPLOADED\", \"SELLER_UPLOADED\", \"DOC_OK\", \"DOC_DEFECT\", \"DOC_REJECTED\"];\n    var time_array=[\"ON_TIME\", \"OUT_OF_TIME\"];\n\n\n    try {\n      const storageWithSigner = storageContract.connect(defaultProvider.getSigner());\n\n      var balance = await storageWithSigner.check_Contract_Balance();\n\n      var statust = await storageWithSigner.getStatus();\n\n      var timet = await storageWithSigner.getTimeStatus();\n\n      document.getElementById(\"text-box1\").innerHTML = \"Status: \"+status_array[statust] +\"  Time: \"+ time_array[timet] +\"  Balance: \"+ balance\n      return \n      \n    }\n    catch(err) {\n      console.log(err.message);\n      document.getElementById(\"text-box\").className = \"color-red\";\n      document.getElementById(\"text-box\").innerHTML = err.message\n    }\n    \n    \n  \n  }\n\n\n\n  \n\n\n  \n\n\n  const [itemInput, setItemInput] = useState(\"\");\n  console.log(itemInput);\n  const [itemInput1, setItemInput1] = useState(\"\");\n  console.log(itemInput1);\n  const [itemInput2, setItemInput2] = useState(\"\");\n  console.log(itemInput2);\n  const [itemInput3, setItemInput3] = useState(\"\");\n  console.log(itemInput3);\n  const [itemInput4, setItemInput4] = useState(\"\");\n  console.log(itemInput4);\n \n \n  \n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n       <div id=\"text-box\"></div>\n       <body className=\"info\">\n       <div>\n          Smart Contract: <input type=\"text\" placeholder=\"Contract Hash\" value={itemInput2} onChange={e => setItemInput2(e.target.value)}/>\n        <button onClick={SetContract}>Set</button>\n        </div>\n      <div>Current User Hash: <mark className=\"mark-red\">{accountHash}</mark></div>\n\n      <div> <button onClick={status}>See Current Status</button> </div>\n      \n      <div id=\"text-box1\"></div>\n      </body>\n\n        <body className=\"fintech\">\n        <div>\n          Fintech Gives Right to Vote: <input type=\"text\" placeholder=\"Hash\" value={itemInput} onChange={e => setItemInput(e.target.value)}/>\n        <button onClick={voteright}>Give</button>\n        </div>\n        <div>\n          Fintech Removes Right to Vote: <input type=\"text\" placeholder=\"Hash\" value={itemInput1} onChange={e => setItemInput1(e.target.value)}/>\n        <button onClick={removevoteright}>Remove</button>\n        </div>\n        <div>\n        Fintechs Sets Time:\n        <input type=\"text\" placeholder=\"Enter Time\" value={itemInput3} onChange={e => setItemInput3(e.target.value)}/>\n        <button onClick={endtime}>Set</button>\n        </div>\n         </body>\n         <body className=\"banks\">\n         <div>\n        Banks Vote:\n        <input type=\"text\" placeholder=\"Proposal\" value={itemInput4} onChange={e => setItemInput4(e.target.value)}/>\n        <button onClick={vote}>Set</button>\n        </div>\n\n         </body>\n\n\n\n      </header>\n\n    </div>\n  );\n \n  \n}\n\nexport default App;\n\n\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst lower_bound_1 = require(\"./lower-bound\");\n\nclass PriorityQueue {\n  constructor() {\n    this._queue = [];\n  }\n\n  enqueue(run, options) {\n    options = Object.assign({\n      priority: 0\n    }, options);\n    const element = {\n      priority: options.priority,\n      run\n    };\n\n    if (this.size && this._queue[this.size - 1].priority >= options.priority) {\n      this._queue.push(element);\n\n      return;\n    }\n\n    const index = lower_bound_1.default(this._queue, element, (a, b) => b.priority - a.priority);\n\n    this._queue.splice(index, 0, element);\n  }\n\n  dequeue() {\n    const item = this._queue.shift();\n\n    return item === null || item === void 0 ? void 0 : item.run;\n  }\n\n  filter(options) {\n    return this._queue.filter(element => element.priority === options.priority).map(element => element.run);\n  }\n\n  get size() {\n    return this._queue.length;\n  }\n\n}\n\nexports.default = PriorityQueue;","map":{"version":3,"sources":["/Users/yenerkaraca/Documents/GitHub/eth-app/node_modules/p-queue/dist/priority-queue.js"],"names":["Object","defineProperty","exports","value","lower_bound_1","require","PriorityQueue","constructor","_queue","enqueue","run","options","assign","priority","element","size","push","index","default","a","b","splice","dequeue","item","shift","filter","map","length"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,aAAa,GAAGC,OAAO,CAAC,eAAD,CAA7B;;AACA,MAAMC,aAAN,CAAoB;AAChBC,EAAAA,WAAW,GAAG;AACV,SAAKC,MAAL,GAAc,EAAd;AACH;;AACDC,EAAAA,OAAO,CAACC,GAAD,EAAMC,OAAN,EAAe;AAClBA,IAAAA,OAAO,GAAGX,MAAM,CAACY,MAAP,CAAc;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAAd,EAA+BF,OAA/B,CAAV;AACA,UAAMG,OAAO,GAAG;AACZD,MAAAA,QAAQ,EAAEF,OAAO,CAACE,QADN;AAEZH,MAAAA;AAFY,KAAhB;;AAIA,QAAI,KAAKK,IAAL,IAAa,KAAKP,MAAL,CAAY,KAAKO,IAAL,GAAY,CAAxB,EAA2BF,QAA3B,IAAuCF,OAAO,CAACE,QAAhE,EAA0E;AACtE,WAAKL,MAAL,CAAYQ,IAAZ,CAAiBF,OAAjB;;AACA;AACH;;AACD,UAAMG,KAAK,GAAGb,aAAa,CAACc,OAAd,CAAsB,KAAKV,MAA3B,EAAmCM,OAAnC,EAA4C,CAACK,CAAD,EAAIC,CAAJ,KAAUA,CAAC,CAACP,QAAF,GAAaM,CAAC,CAACN,QAArE,CAAd;;AACA,SAAKL,MAAL,CAAYa,MAAZ,CAAmBJ,KAAnB,EAA0B,CAA1B,EAA6BH,OAA7B;AACH;;AACDQ,EAAAA,OAAO,GAAG;AACN,UAAMC,IAAI,GAAG,KAAKf,MAAL,CAAYgB,KAAZ,EAAb;;AACA,WAAOD,IAAI,KAAK,IAAT,IAAiBA,IAAI,KAAK,KAAK,CAA/B,GAAmC,KAAK,CAAxC,GAA4CA,IAAI,CAACb,GAAxD;AACH;;AACDe,EAAAA,MAAM,CAACd,OAAD,EAAU;AACZ,WAAO,KAAKH,MAAL,CAAYiB,MAAZ,CAAoBX,OAAD,IAAaA,OAAO,CAACD,QAAR,KAAqBF,OAAO,CAACE,QAA7D,EAAuEa,GAAvE,CAA4EZ,OAAD,IAAaA,OAAO,CAACJ,GAAhG,CAAP;AACH;;AACD,MAAIK,IAAJ,GAAW;AACP,WAAO,KAAKP,MAAL,CAAYmB,MAAnB;AACH;;AA1Be;;AA4BpBzB,OAAO,CAACgB,OAAR,GAAkBZ,aAAlB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst lower_bound_1 = require(\"./lower-bound\");\nclass PriorityQueue {\n    constructor() {\n        this._queue = [];\n    }\n    enqueue(run, options) {\n        options = Object.assign({ priority: 0 }, options);\n        const element = {\n            priority: options.priority,\n            run\n        };\n        if (this.size && this._queue[this.size - 1].priority >= options.priority) {\n            this._queue.push(element);\n            return;\n        }\n        const index = lower_bound_1.default(this._queue, element, (a, b) => b.priority - a.priority);\n        this._queue.splice(index, 0, element);\n    }\n    dequeue() {\n        const item = this._queue.shift();\n        return item === null || item === void 0 ? void 0 : item.run;\n    }\n    filter(options) {\n        return this._queue.filter((element) => element.priority === options.priority).map((element) => element.run);\n    }\n    get size() {\n        return this._queue.length;\n    }\n}\nexports.default = PriorityQueue;\n"]},"metadata":{},"sourceType":"script"}
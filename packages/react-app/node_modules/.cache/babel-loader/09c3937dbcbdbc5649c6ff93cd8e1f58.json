{"ast":null,"code":"'use strict';\n\nconst errCode = require('err-code');\n\nconst {\n  Buffer\n} = require('buffer'); // make sure the content only emits buffer-a-likes\n\n\nasync function* validateChunks(source) {\n  for await (const content of source) {\n    if (content.length === undefined) {\n      throw errCode(new Error('Content was invalid'), 'ERR_INVALID_CONTENT');\n    }\n\n    if (typeof content === 'string' || content instanceof String) {\n      yield Buffer.from(content, 'utf8');\n    } else if (Array.isArray(content)) {\n      yield Buffer.from(content);\n    } else {\n      yield content;\n    }\n  }\n}\n\nmodule.exports = validateChunks;","map":{"version":3,"sources":["/Users/yenerkaraca/Documents/GitHub/eth-app/node_modules/ipfs-unixfs-importer/src/dag-builder/validate-chunks.js"],"names":["errCode","require","Buffer","validateChunks","source","content","length","undefined","Error","String","from","Array","isArray","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,OAAO,GAAGC,OAAO,CAAC,UAAD,CAAvB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAaD,OAAO,CAAC,QAAD,CAA1B,C,CAEA;;;AACA,gBAAiBE,cAAjB,CAAiCC,MAAjC,EAAyC;AACvC,aAAW,MAAMC,OAAjB,IAA4BD,MAA5B,EAAoC;AAClC,QAAIC,OAAO,CAACC,MAAR,KAAmBC,SAAvB,EAAkC;AAChC,YAAMP,OAAO,CAAC,IAAIQ,KAAJ,CAAU,qBAAV,CAAD,EAAmC,qBAAnC,CAAb;AACD;;AAED,QAAI,OAAOH,OAAP,KAAmB,QAAnB,IAA+BA,OAAO,YAAYI,MAAtD,EAA8D;AAC5D,YAAMP,MAAM,CAACQ,IAAP,CAAYL,OAAZ,EAAqB,MAArB,CAAN;AACD,KAFD,MAEO,IAAIM,KAAK,CAACC,OAAN,CAAcP,OAAd,CAAJ,EAA4B;AACjC,YAAMH,MAAM,CAACQ,IAAP,CAAYL,OAAZ,CAAN;AACD,KAFM,MAEA;AACL,YAAMA,OAAN;AACD;AACF;AACF;;AAEDQ,MAAM,CAACC,OAAP,GAAiBX,cAAjB","sourcesContent":["'use strict'\n\nconst errCode = require('err-code')\nconst { Buffer } = require('buffer')\n\n// make sure the content only emits buffer-a-likes\nasync function * validateChunks (source) {\n  for await (const content of source) {\n    if (content.length === undefined) {\n      throw errCode(new Error('Content was invalid'), 'ERR_INVALID_CONTENT')\n    }\n\n    if (typeof content === 'string' || content instanceof String) {\n      yield Buffer.from(content, 'utf8')\n    } else if (Array.isArray(content)) {\n      yield Buffer.from(content)\n    } else {\n      yield content\n    }\n  }\n}\n\nmodule.exports = validateChunks\n"]},"metadata":{},"sourceType":"script"}
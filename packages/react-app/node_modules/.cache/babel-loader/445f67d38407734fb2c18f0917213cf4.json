{"ast":null,"code":"'use strict';\n\nconst {\n  Buffer\n} = require('buffer');\n\nconst Key = require('interface-datastore').Key;\n\nconst sortKeys = require('sort-keys');\n\nconst specKey = new Key('datastore_spec');\n\nmodule.exports = store => {\n  return {\n    /**\n     * Check if a datastore spec file exists.\n     *\n     * @returns {Promise<bool>}\n     */\n    async exists() {\n      // eslint-disable-line require-await\n      return store.has(specKey);\n    },\n\n    /**\n     * Get the current datastore spec.\n     *\n     * @returns {Promise<Buffer>}\n     */\n    async get() {\n      const buf = await store.get(specKey);\n      return JSON.parse(buf.toString());\n    },\n\n    /**\n     * Set the datastore spec of the repo, writing it to the underlying store.\n     * TODO unclear on what the type should be or if it's required\n     * @param {number} spec\n     * @returns {Promise<void>}\n     */\n    async set(spec) {\n      // eslint-disable-line require-await\n      return store.put(specKey, Buffer.from(JSON.stringify(sortKeys(spec, {\n        deep: true\n      }))));\n    }\n\n  };\n};","map":{"version":3,"sources":["/Users/yenerkaraca/Documents/GitHub/eth-app/node_modules/ipfs-repo/src/spec.js"],"names":["Buffer","require","Key","sortKeys","specKey","module","exports","store","exists","has","get","buf","JSON","parse","toString","set","spec","put","from","stringify","deep"],"mappings":"AAAA;;AAEA,MAAM;AAAEA,EAAAA;AAAF,IAAaC,OAAO,CAAC,QAAD,CAA1B;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,qBAAD,CAAP,CAA+BC,GAA3C;;AACA,MAAMC,QAAQ,GAAGF,OAAO,CAAC,WAAD,CAAxB;;AAEA,MAAMG,OAAO,GAAG,IAAIF,GAAJ,CAAQ,gBAAR,CAAhB;;AAEAG,MAAM,CAACC,OAAP,GAAkBC,KAAD,IAAW;AAC1B,SAAO;AACL;;;;;AAKA,UAAMC,MAAN,GAAgB;AAAE;AAChB,aAAOD,KAAK,CAACE,GAAN,CAAUL,OAAV,CAAP;AACD,KARI;;AASL;;;;;AAKA,UAAMM,GAAN,GAAa;AACX,YAAMC,GAAG,GAAG,MAAMJ,KAAK,CAACG,GAAN,CAAUN,OAAV,CAAlB;AACA,aAAOQ,IAAI,CAACC,KAAL,CAAWF,GAAG,CAACG,QAAJ,EAAX,CAAP;AACD,KAjBI;;AAkBL;;;;;;AAMA,UAAMC,GAAN,CAAWC,IAAX,EAAiB;AAAE;AACjB,aAAOT,KAAK,CAACU,GAAN,CAAUb,OAAV,EAAmBJ,MAAM,CAACkB,IAAP,CAAYN,IAAI,CAACO,SAAL,CAAehB,QAAQ,CAACa,IAAD,EAAO;AAAEI,QAAAA,IAAI,EAAE;AAAR,OAAP,CAAvB,CAAZ,CAAnB,CAAP;AACD;;AA1BI,GAAP;AA4BD,CA7BD","sourcesContent":["'use strict'\n\nconst { Buffer } = require('buffer')\nconst Key = require('interface-datastore').Key\nconst sortKeys = require('sort-keys')\n\nconst specKey = new Key('datastore_spec')\n\nmodule.exports = (store) => {\n  return {\n    /**\n     * Check if a datastore spec file exists.\n     *\n     * @returns {Promise<bool>}\n     */\n    async exists () { // eslint-disable-line require-await\n      return store.has(specKey)\n    },\n    /**\n     * Get the current datastore spec.\n     *\n     * @returns {Promise<Buffer>}\n     */\n    async get () {\n      const buf = await store.get(specKey)\n      return JSON.parse(buf.toString())\n    },\n    /**\n     * Set the datastore spec of the repo, writing it to the underlying store.\n     * TODO unclear on what the type should be or if it's required\n     * @param {number} spec\n     * @returns {Promise<void>}\n     */\n    async set (spec) { // eslint-disable-line require-await\n      return store.put(specKey, Buffer.from(JSON.stringify(sortKeys(spec, { deep: true }))))\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}
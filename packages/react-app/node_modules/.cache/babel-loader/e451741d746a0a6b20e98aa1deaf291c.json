{"ast":null,"code":"'use strict';\n\nvar _objectSpread = require(\"/Users/yenerkaraca/Documents/GitHub/eth-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/objectSpread2\");\n\nvar _classCallCheck = require(\"/Users/yenerkaraca/Documents/GitHub/eth-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/yenerkaraca/Documents/GitHub/eth-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nmodule.exports = /*#__PURE__*/function () {\n  function ApiManager() {\n    var _this = this;\n\n    _classCallCheck(this, ApiManager);\n\n    this._api = {};\n\n    this._onUndef = function () {\n      return undefined;\n    };\n\n    this.api = new Proxy(this._api, {\n      get: function get(_, prop) {\n        if (prop === 'then') return undefined; // Not a promise!\n\n        return _this._api[prop] === undefined ? _this._onUndef(prop) : _this._api[prop];\n      }\n    });\n  }\n\n  _createClass(ApiManager, [{\n    key: \"update\",\n    value: function update(nextApi, onUndef) {\n      var _this2 = this;\n\n      var prevApi = _objectSpread({}, this._api);\n\n      var prevUndef = this._onUndef;\n      Object.keys(this._api).forEach(function (k) {\n        delete _this2._api[k];\n      });\n      Object.assign(this._api, nextApi);\n      if (onUndef) this._onUndef = onUndef;\n      return {\n        cancel: function cancel() {\n          return _this2.update(prevApi, prevUndef);\n        },\n        api: this.api\n      };\n    }\n  }]);\n\n  return ApiManager;\n}();","map":{"version":3,"sources":["/Users/yenerkaraca/Documents/GitHub/eth-app/node_modules/ipfs/src/core/api-manager.js"],"names":["module","exports","_api","_onUndef","undefined","api","Proxy","get","_","prop","nextApi","onUndef","prevApi","prevUndef","Object","keys","forEach","k","assign","cancel","update"],"mappings":"AAAA;;;;;;;;AAEAA,MAAM,CAACC,OAAP;AACE,wBAAe;AAAA;;AAAA;;AACb,SAAKC,IAAL,GAAY,EAAZ;;AACA,SAAKC,QAAL,GAAgB;AAAA,aAAMC,SAAN;AAAA,KAAhB;;AACA,SAAKC,GAAL,GAAW,IAAIC,KAAJ,CAAU,KAAKJ,IAAf,EAAqB;AAC9BK,MAAAA,GAAG,EAAE,aAACC,CAAD,EAAIC,IAAJ,EAAa;AAChB,YAAIA,IAAI,KAAK,MAAb,EAAqB,OAAOL,SAAP,CADL,CACsB;;AACtC,eAAO,KAAI,CAACF,IAAL,CAAUO,IAAV,MAAoBL,SAApB,GAAgC,KAAI,CAACD,QAAL,CAAcM,IAAd,CAAhC,GAAsD,KAAI,CAACP,IAAL,CAAUO,IAAV,CAA7D;AACD;AAJ6B,KAArB,CAAX;AAMD;;AAVH;AAAA;AAAA,2BAYUC,OAZV,EAYmBC,OAZnB,EAY4B;AAAA;;AACxB,UAAMC,OAAO,qBAAQ,KAAKV,IAAb,CAAb;;AACA,UAAMW,SAAS,GAAG,KAAKV,QAAvB;AACAW,MAAAA,MAAM,CAACC,IAAP,CAAY,KAAKb,IAAjB,EAAuBc,OAAvB,CAA+B,UAAAC,CAAC,EAAI;AAAE,eAAO,MAAI,CAACf,IAAL,CAAUe,CAAV,CAAP;AAAqB,OAA3D;AACAH,MAAAA,MAAM,CAACI,MAAP,CAAc,KAAKhB,IAAnB,EAAyBQ,OAAzB;AACA,UAAIC,OAAJ,EAAa,KAAKR,QAAL,GAAgBQ,OAAhB;AACb,aAAO;AAAEQ,QAAAA,MAAM,EAAE;AAAA,iBAAM,MAAI,CAACC,MAAL,CAAYR,OAAZ,EAAqBC,SAArB,CAAN;AAAA,SAAV;AAAiDR,QAAAA,GAAG,EAAE,KAAKA;AAA3D,OAAP;AACD;AAnBH;;AAAA;AAAA","sourcesContent":["'use strict'\n\nmodule.exports = class ApiManager {\n  constructor () {\n    this._api = {}\n    this._onUndef = () => undefined\n    this.api = new Proxy(this._api, {\n      get: (_, prop) => {\n        if (prop === 'then') return undefined // Not a promise!\n        return this._api[prop] === undefined ? this._onUndef(prop) : this._api[prop]\n      }\n    })\n  }\n\n  update (nextApi, onUndef) {\n    const prevApi = { ...this._api }\n    const prevUndef = this._onUndef\n    Object.keys(this._api).forEach(k => { delete this._api[k] })\n    Object.assign(this._api, nextApi)\n    if (onUndef) this._onUndef = onUndef\n    return { cancel: () => this.update(prevApi, prevUndef), api: this.api }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"'use strict';\n\nconst UnixFS = require('ipfs-unixfs');\n\nconst persist = require('../utils/persist');\n\nconst {\n  DAGNode\n} = require('ipld-dag-pb');\n\nconst dirBuilder = async (item, block, options) => {\n  const unixfs = new UnixFS({\n    type: 'directory',\n    mtime: item.mtime,\n    mode: item.mode\n  });\n  const buffer = new DAGNode(unixfs.marshal()).serialize();\n  const cid = await persist(buffer, block, options);\n  const path = item.path;\n  return {\n    cid,\n    path,\n    unixfs,\n    size: buffer.length\n  };\n};\n\nmodule.exports = dirBuilder;","map":{"version":3,"sources":["/Users/yenerkaraca/Documents/GitHub/eth-app/node_modules/ipfs-unixfs-importer/src/dag-builder/dir.js"],"names":["UnixFS","require","persist","DAGNode","dirBuilder","item","block","options","unixfs","type","mtime","mode","buffer","marshal","serialize","cid","path","size","length","module","exports"],"mappings":"AAAA;;AAEA,MAAMA,MAAM,GAAGC,OAAO,CAAC,aAAD,CAAtB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,kBAAD,CAAvB;;AACA,MAAM;AACJE,EAAAA;AADI,IAEFF,OAAO,CAAC,aAAD,CAFX;;AAIA,MAAMG,UAAU,GAAG,OAAOC,IAAP,EAAaC,KAAb,EAAoBC,OAApB,KAAgC;AACjD,QAAMC,MAAM,GAAG,IAAIR,MAAJ,CAAW;AACxBS,IAAAA,IAAI,EAAE,WADkB;AAExBC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAFY;AAGxBC,IAAAA,IAAI,EAAEN,IAAI,CAACM;AAHa,GAAX,CAAf;AAMA,QAAMC,MAAM,GAAG,IAAIT,OAAJ,CAAYK,MAAM,CAACK,OAAP,EAAZ,EAA8BC,SAA9B,EAAf;AACA,QAAMC,GAAG,GAAG,MAAMb,OAAO,CAACU,MAAD,EAASN,KAAT,EAAgBC,OAAhB,CAAzB;AACA,QAAMS,IAAI,GAAGX,IAAI,CAACW,IAAlB;AAEA,SAAO;AACLD,IAAAA,GADK;AAELC,IAAAA,IAFK;AAGLR,IAAAA,MAHK;AAILS,IAAAA,IAAI,EAAEL,MAAM,CAACM;AAJR,GAAP;AAMD,CAjBD;;AAmBAC,MAAM,CAACC,OAAP,GAAiBhB,UAAjB","sourcesContent":["'use strict'\n\nconst UnixFS = require('ipfs-unixfs')\nconst persist = require('../utils/persist')\nconst {\n  DAGNode\n} = require('ipld-dag-pb')\n\nconst dirBuilder = async (item, block, options) => {\n  const unixfs = new UnixFS({\n    type: 'directory',\n    mtime: item.mtime,\n    mode: item.mode\n  })\n\n  const buffer = new DAGNode(unixfs.marshal()).serialize()\n  const cid = await persist(buffer, block, options)\n  const path = item.path\n\n  return {\n    cid,\n    path,\n    unixfs,\n    size: buffer.length\n  }\n}\n\nmodule.exports = dirBuilder\n"]},"metadata":{},"sourceType":"script"}
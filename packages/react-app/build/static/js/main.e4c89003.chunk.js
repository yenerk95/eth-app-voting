(this["webpackJsonp@project/react-app"]=this["webpackJsonp@project/react-app"]||[]).push([[0],{1036:function(e,t,n){},1041:function(e,t,n){"use strict";n.r(t);var a,r=n(14),i=n.n(r),u=n(374),s=n.n(u),c=n(386),p=n(1044),o=(n(393),n(0)),l=n.n(o),y=n(55),f=n(18),m=n(375),b=n(387),d=n(143),h=n(377),v=n.n(h),g=n(379),w=n.n(g),x={ipfs:n(380),storage:n(381)},E={ipfs:"0xdc9802a1e6d201acf1c37b66c8e7cea28f11dbde",storage:"0xAe253B54ddC65A30A1A14710469F7DFf063557b5"},k=(n(1036),"0x0000000000000000000000000000000000000000000000000000000000000000"),T=new d.ethers.providers.Web3Provider(window.ethereum),O=new d.ethers.Contract(E.ipfs,x.ipfs,T),j=new d.ethers.Contract(E.storage,x.storage,T);function S(){return(S=Object(f.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.create();case 2:return a=e.sent,e.next=5,a.version();case 5:t=e.sent,console.log("IPFS Node Version:",t.version);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return _.apply(this,arguments)}function _(){return(_=Object(f.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.userFiles(T.getSigner().getAddress());case 2:return t=e.sent,console.log({result:t}),e.next=6,window.ethereum.request({method:"eth_requestAccounts"});case 6:return n=e.sent,n[0],e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return N.apply(this,arguments)}function N(){return(N=Object(f.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return t=e.sent,Object.values(t),n=JSON.stringify(t[0]),console.log("FUNC"),console.log({account:n}),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(){var e=Object(r.useState)(""),t=Object(y.a)(e,2),n=t[0],u=t[1];Object(r.useEffect)((function(){!function(){S.apply(this,arguments)}(),window.ethereum.enable()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(f.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:(t=e.sent)!==k&&u(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var s=Object(r.useState)(""),c=Object(y.a)(s,2),p=c[0],o=c[1];function d(e){return h.apply(this,arguments)}function h(){return(h=Object(f.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O.connect(T.getSigner()),e.next=3,n.setFile(t);case 3:a=e.sent,console.log({tx:a}),u(t),n.store(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(){return(v=Object(f.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.connect(T.getSigner()),e.next=3,t.buyerUpload(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(f.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.connect(T.getSigner()),e.next=3,t.sellerUpload(n);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(f.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.connect(T.getSigner()),e.next=3,t.SetEndTime(I);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(f.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.connect(T.getSigner()),e.next=3,t.ExtendTime(R);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){window.ethereum.enable()}),[]),Object(r.useEffect)((function(){function e(){return(e=Object(f.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:(t=e.sent)!==k&&o(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),console.log(n);var _=Object(r.useCallback)(function(){var e=Object(f.a)(l.a.mark((function e(t){var n,r,i,u,s,c,p,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[{path:t.name+t.path,content:t}],r=!0,i=!1,e.prev=3,s=Object(m.a)(a.add(n));case 5:return e.next=7,s.next();case 7:return c=e.sent,r=c.done,e.next=11,c.value;case 11:if(p=e.sent,r){e.next=19;break}return o=p,e.next=16,d(o.cid.string);case 16:r=!0,e.next=5;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),i=!0,u=e.t0;case 25:if(e.prev=25,e.prev=26,r||null==s.return){e.next=30;break}return e.next=30,s.return();case 30:if(e.prev=30,!i){e.next=33;break}throw u;case 33:return e.finish(30);case 34:return e.finish(25);case 35:case"end":return e.stop()}}),e,null,[[3,21,25,35],[26,,30,34]])})));return function(t){return e.apply(this,arguments)}}(),[]),N=Object(r.useCallback)((function(e){_(e[0])}),[_]),A=Object(b.a)({multiple:!1,onDrop:N}),B=A.getRootProps,F=A.getInputProps,U=A.isDragActive,D=Object(r.useState)(""),P=Object(y.a)(D,2),I=P[0],J=P[1];console.log(I);var q=Object(r.useState)(""),H=Object(y.a)(q,2),R=H[0],L=H[1];return console.log(R),i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("div",Object.assign({},B(),{style:{cursor:"pointer"}}),i.a.createElement("img",{src:w.a,className:"App-logo",alt:"react-logo"}),i.a.createElement("input",F()),U?i.a.createElement("p",null,"Drop the files here ..."):i.a.createElement("p",null,"Drag 'n' drop some files here to upload to IPFS (or click the logo)")),i.a.createElement("div",null,""!==n?i.a.createElement("p",null,"IPFS Hash: ",i.a.createElement("mark",{className:"mark-red"},'"',n,'"')):""),i.a.createElement("div",null,"User Hash:",i.a.createElement("mark",{className:"mark-yellow"},p)),i.a.createElement("div",null,""!==n?i.a.createElement("a",{href:"https://ipfs.io/ipfs/".concat(n),target:"_blank",rel:"noopener noreferrer"},"See current user file"):"No user file set yet"),i.a.createElement("div",null,"Buyer Can Set and Extend Time"),i.a.createElement("div",null,"Set End Time:",i.a.createElement("input",{type:"text",placeholder:"Enter an item",value:I,onChange:function(e){return J(e.target.value)}}),i.a.createElement("button",{onClick:function(){return x.apply(this,arguments)}},"Buyer Set")),i.a.createElement("div",null,"Extend Time:",i.a.createElement("input",{type:"text",placeholder:"Enter an item",value:R,onChange:function(e){return L(e.target.value)}}),i.a.createElement("button",{onClick:function(){return E.apply(this,arguments)}},"Buyer Extend")),i.a.createElement("div",null,"Buyer Clicks to Upload to Smart Contract:   ",i.a.createElement("button",{onClick:function(){return v.apply(this,arguments)}},"Buyer Upload")),i.a.createElement("div",null,"Seller Clicks to Upload to Smart Contract:   ",i.a.createElement("button",{onClick:function(){return g.apply(this,arguments)}},"Seller Upload")),i.a.createElement("script",null)))},B=new c.a({uri:"https://api.thegraph.com/subgraphs/name/paulrberg/create-eth-app"});s.a.render(i.a.createElement(p.a,{client:B},i.a.createElement(A,null)),document.getElementById("root"))},154:function(e,t){},379:function(e,t,n){e.exports=n.p+"static/media/ethereumLogo.0020ce37.png"},380:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"file","type":"string"}],"name":"setFile","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_hash","type":"string"}],"name":"store","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"get","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userFiles","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"}]')},381:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address payable","name":"_buyer","type":"address"},{"internalType":"address payable","name":"_seller","type":"address"},{"internalType":"address payable","name":"_fintech","type":"address"}],"stateMutability":"payable","type":"constructor"},{"inputs":[{"internalType":"uint256","name":"_extension","type":"uint256"}],"name":"ExtendTime","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"Number_of_Days","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ReadHash","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_Number_of_Days","type":"uint256"}],"name":"SetEndTime","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_addressS","type":"address"}],"name":"SetStorageAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"buyer","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"hash_buyer","type":"string"}],"name":"buyerUpload","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_compliance","type":"bool"}],"name":"checkCompliance","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"check_Contract_Balance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"compliance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"deadline","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"destroycontract","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"extension","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fintech","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"fintech_withdraw","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getBalance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"money_to_Buyer","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"money_to_Seller","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"seller","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"hash_seller","type":"string"}],"name":"sellerUpload","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},388:function(e,t,n){e.exports=n(1041)},393:function(e,t,n){},403:function(e,t){},476:function(e,t){},477:function(e,t){},611:function(e,t){},668:function(e,t){},676:function(e,t){},678:function(e,t){},766:function(e,t){},833:function(e,t){},882:function(e,t){}},[[388,1,2]]]);
//# sourceMappingURL=main.e4c89003.chunk.js.map